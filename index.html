<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <h2>Open the console to play</h2>
  </body>
  <script>
    const plays = ["rock", "paper", "scissors"];
    function getComputerSelection() {
      return plays[Math.round(Math.random() * plays.length)];
    }
    
    function playRound(playerSelection, computerSelection) {
      if (playerSelection === computerSelection) return "It's a tie!";
      else if (playerSelection === "rock") {
        if (computerSelection === "scissors") return "You Win! Rock beats Scissors";
          return "You Lose! Paper beats Rock";
      }
      else if (playerSelection === "paper") {
        if (computerSelection === "rock") return "You Win! Paper beats Rock";
          return "You Lose! Scissors beats Paper";
      }
      else if (playerSelection === "scissors") {
        if (computerSelection === "paper") return "You Win! Scissors beats Paper";
          return "You Lose! Rock beats Scissors";
      }
      else { return "Improper player selection"; }
    }
    
    function getPlayerSelection() {
      let selection = prompt("Type your move!");
      selection = selection.trim().toLowerCase();
      
      if (plays.includes(selection)) return selection;
      else {
        console.log("You must choose: rock, paper, or scissors");
        return getPlayerSelection();
      }
    }
    
    function game() {
      const rounds = 5;
      let playerScore = 0;
      let computerScore = 0;
      
      for (let i = 0; i < rounds; i++) {
        const results = playRound(getPlayerSelection(), getComputerSelection());
        console.log(results);
        if (results.includes("You Win!")) playerScore++;
        else if (results.includes("You Lose!")) computerScore++;
      }
        
      if (playerScore > computerScore) console.log(`You Won! ${playerScore} - ${computerScore}`);
      else if (computerScore > playerScore) console.log(`You Lost! ${computerScore} - ${playerScore}`);
      else { console.log(`The game was tied! ${playerScore} - ${computerScore}`); }
    }
    
    console.log("Type game(); to begin.");
  </script>
</html>
